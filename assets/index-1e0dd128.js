(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();async function g(r){const t=new Image;return t.src=r,await new Promise((n,o)=>{t.addEventListener("load",()=>n()),t.addEventListener("error",()=>o())}),t}function m(r){return r.trim().split(`
`).map(t=>t.trim())}function p(r){let t=1;return r.map(n=>[...n].map(o=>/^\s$/.test(o)?o:t===0?(t=1,o.toUpperCase()):(t=0,o.toLowerCase())).join(""))}function d(r,t){const n=t.getContext("2d");n.font=`bold ${r}px Dejavu Sans, Arial, sans-serif`,n.strokeStyle="black",n.fillStyle="white",n.lineWidth=r*.075}const w=300,x=50;function y(r,t){const n=t.getContext("2d"),o=r.reduce((s,a)=>a.length>s.length?a:s,"");let e=w;d(e,t);let i=n.measureText(o);for(;i.width>t.width&&e>x;)console.log(e),e=e-10,d(e,t),i=n.measureText(o);return e}function S(r,t,n,o){const e=o.getContext("2d"),i=e.measureText(r),s=o.width/2-i.width/2,a=n*(t+1);e.strokeText(r,s,a),e.fillText(r,s,a)}function L(r,t,n){const o=n.getContext("2d"),e=y(r,n);o.clearRect(0,0,n.width,n.height),o.drawImage(t,0,0),d(e,n),r.forEach((i,s)=>S(i,s,e,n))}function P(r,t){r=(Array.isArray(r)?r.join(`
`):r).trim();const n={};r.length>0&&r!==t.placeholder&&(n.text=r);const o=new URL(window.location.href);o.search=new URLSearchParams(n).toString(),window.history.replaceState({},document.title,o.toString())}function T(){const t=(new URLSearchParams(window.location.search).get("text")||"").trim();return{text:t.length>0?t:void 0}}function h(r,t,n,o){const e=m(r);L(p(e),t,n),P(e,o)}const l=await g("./mocking-spongebob.jpg"),u=document.querySelector("#canvas"),c=document.querySelector("#textarea");u.width=l.width;u.height=l.height;c.addEventListener("keyup",()=>h(c.value,l,u,c));const f=T();f.text&&(c.value=m(f.text).join(`
`));h(c.value.length>0?c.value:c.placeholder,l,u,c);
//# sourceMappingURL=index-1e0dd128.js.map
